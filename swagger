{"swagger": "2.0", "info": {"title": "LetsForms API", "description": "API для создания и управления формами и опросниками", "version": "v1"}, "host": "192.168.0.2:8000", "schemes": ["http"], "basePath": "/api", "consumes": ["application/json"], "produces": ["application/json"], "securityDefinitions": {"Basic": {"type": "basic"}}, "security": [{"Basic": []}], "paths": {"/forms/": {"get": {"operationId": "forms_list", "description": "", "parameters": [{"name": "page", "in": "query", "description": "A page number within the paginated result set.", "required": false, "type": "integer"}], "responses": {"200": {"description": "", "schema": {"required": ["count", "results"], "type": "object", "properties": {"count": {"type": "integer"}, "next": {"type": "string", "format": "uri", "x-nullable": true}, "previous": {"type": "string", "format": "uri", "x-nullable": true}, "results": {"type": "array", "items": {"$ref": "#/definitions/Form"}}}}}}, "tags": ["forms"]}, "post": {"operationId": "forms_create", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Form"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/Form"}}}, "tags": ["forms"]}, "parameters": []}, "/forms/telegram/{telegram_id}/": {"get": {"operationId": "forms_by_telegram", "description": "Получить формы пользователя по Telegram ID", "parameters": [{"name": "page", "in": "query", "description": "A page number within the paginated result set.", "required": false, "type": "integer"}], "responses": {"200": {"description": "", "schema": {"required": ["count", "results"], "type": "object", "properties": {"count": {"type": "integer"}, "next": {"type": "string", "format": "uri", "x-nullable": true}, "previous": {"type": "string", "format": "uri", "x-nullable": true}, "results": {"type": "array", "items": {"$ref": "#/definitions/Form"}}}}}}, "tags": ["forms"]}, "parameters": [{"name": "telegram_id", "in": "path", "required": true, "type": "string"}]}, "/forms/{id}/": {"get": {"operationId": "forms_read", "description": "", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/FormDetail"}}}, "tags": ["forms"]}, "put": {"operationId": "forms_update", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Form"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Form"}}}, "tags": ["forms"]}, "patch": {"operationId": "forms_partial_update", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Form"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Form"}}}, "tags": ["forms"]}, "delete": {"operationId": "forms_delete", "description": "", "parameters": [], "responses": {"204": {"description": ""}}, "tags": ["forms"]}, "parameters": [{"name": "id", "in": "path", "required": true, "type": "string"}]}, "/forms/{id}/public/": {"get": {"operationId": "forms_public", "description": "Публичный доступ к активной форме", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Form"}}}, "tags": ["forms"]}, "parameters": [{"name": "id", "in": "path", "required": true, "type": "string"}]}, "/forms/{id}/responses/": {"get": {"operationId": "forms_responses", "description": "Получение всех ответов на форму (только для владельца)", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Form"}}}, "tags": ["forms"]}, "parameters": [{"name": "id", "in": "path", "required": true, "type": "string"}]}, "/forms/{id}/submit/": {"post": {"operationId": "forms_submit", "description": "Отправка ответов на форму", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Form"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/Form"}}}, "tags": ["forms"]}, "parameters": [{"name": "id", "in": "path", "required": true, "type": "string"}]}, "/questions/": {"get": {"operationId": "questions_list", "description": "", "parameters": [{"name": "page", "in": "query", "description": "A page number within the paginated result set.", "required": false, "type": "integer"}], "responses": {"200": {"description": "", "schema": {"required": ["count", "results"], "type": "object", "properties": {"count": {"type": "integer"}, "next": {"type": "string", "format": "uri", "x-nullable": true}, "previous": {"type": "string", "format": "uri", "x-nullable": true}, "results": {"type": "array", "items": {"$ref": "#/definitions/Question"}}}}}}, "tags": ["questions"]}, "post": {"operationId": "questions_create", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Question"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/Question"}}}, "tags": ["questions"]}, "parameters": []}, "/questions/{id}/": {"get": {"operationId": "questions_read", "description": "", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Question"}}}, "tags": ["questions"]}, "put": {"operationId": "questions_update", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Question"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Question"}}}, "tags": ["questions"]}, "patch": {"operationId": "questions_partial_update", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Question"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Question"}}}, "tags": ["questions"]}, "delete": {"operationId": "questions_delete", "description": "", "parameters": [], "responses": {"204": {"description": ""}}, "tags": ["questions"]}, "parameters": [{"name": "id", "in": "path", "required": true, "type": "string"}]}, "/responses/": {"get": {"operationId": "responses_list", "description": "", "parameters": [{"name": "page", "in": "query", "description": "A page number within the paginated result set.", "required": false, "type": "integer"}], "responses": {"200": {"description": "", "schema": {"required": ["count", "results"], "type": "object", "properties": {"count": {"type": "integer"}, "next": {"type": "string", "format": "uri", "x-nullable": true}, "previous": {"type": "string", "format": "uri", "x-nullable": true}, "results": {"type": "array", "items": {"$ref": "#/definitions/Response"}}}}}}, "tags": ["responses"]}, "post": {"operationId": "responses_create", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Response"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/Response"}}}, "tags": ["responses"]}, "parameters": []}, "/responses/by_session/": {"get": {"operationId": "responses_by_session", "description": "Получение ответов по session_id", "parameters": [{"name": "page", "in": "query", "description": "A page number within the paginated result set.", "required": false, "type": "integer"}], "responses": {"200": {"description": "", "schema": {"required": ["count", "results"], "type": "object", "properties": {"count": {"type": "integer"}, "next": {"type": "string", "format": "uri", "x-nullable": true}, "previous": {"type": "string", "format": "uri", "x-nullable": true}, "results": {"type": "array", "items": {"$ref": "#/definitions/Response"}}}}}}, "tags": ["responses"]}, "parameters": []}, "/responses/{id}/": {"get": {"operationId": "responses_read", "description": "", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Response"}}}, "tags": ["responses"]}, "put": {"operationId": "responses_update", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Response"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Response"}}}, "tags": ["responses"]}, "patch": {"operationId": "responses_partial_update", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Response"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Response"}}}, "tags": ["responses"]}, "delete": {"operationId": "responses_delete", "description": "", "parameters": [], "responses": {"204": {"description": ""}}, "tags": ["responses"]}, "parameters": [{"name": "id", "in": "path", "required": true, "type": "string"}]}, "/users/": {"get": {"operationId": "users_list", "description": "", "parameters": [{"name": "page", "in": "query", "description": "A page number within the paginated result set.", "required": false, "type": "integer"}], "responses": {"200": {"description": "", "schema": {"required": ["count", "results"], "type": "object", "properties": {"count": {"type": "integer"}, "next": {"type": "string", "format": "uri", "x-nullable": true}, "previous": {"type": "string", "format": "uri", "x-nullable": true}, "results": {"type": "array", "items": {"$ref": "#/definitions/UserProfile"}}}}}}, "tags": ["users"]}, "post": {"operationId": "users_create", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/UserProfile"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/UserProfile"}}}, "tags": ["users"]}, "parameters": []}, "/users/{id}/": {"get": {"operationId": "users_read", "description": "", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/UserProfile"}}}, "tags": ["users"]}, "put": {"operationId": "users_update", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/UserProfile"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/UserProfile"}}}, "tags": ["users"]}, "patch": {"operationId": "users_partial_update", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/UserProfile"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/UserProfile"}}}, "tags": ["users"]}, "delete": {"operationId": "users_delete", "description": "", "parameters": [], "responses": {"204": {"description": ""}}, "tags": ["users"]}, "parameters": [{"name": "id", "in": "path", "description": "A unique integer value identifying this user profile.", "required": true, "type": "integer"}]}}, "definitions": {"Form": {"required": ["user", "title"], "type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "user": {"title": "User", "type": "integer"}, "user_username": {"title": "User username", "type": "string", "readOnly": true, "minLength": 1}, "title": {"title": "Title", "type": "string", "maxLength": 255, "minLength": 1}, "description": {"title": "Description", "type": "string", "x-nullable": true}, "type": {"title": "Type", "type": "string", "enum": ["survey", "quiz", "feedback", "registration"]}, "status": {"title": "Status", "type": "string", "enum": ["draft", "active", "paused", "archived"]}, "created_at": {"title": "Created at", "type": "string", "format": "date-time", "readOnly": true}, "updated_at": {"title": "Updated at", "type": "string", "format": "date-time", "readOnly": true}, "deleted_at": {"title": "Deleted at", "type": "string", "format": "date-time", "x-nullable": true}}}, "Question": {"required": ["form", "text"], "type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "form": {"title": "Form", "type": "integer"}, "type": {"title": "Type", "type": "string", "enum": ["info", "text", "text_area", "number", "date", "single_choice", "multiple_choice"]}, "text": {"title": "Text", "type": "string", "minLength": 1}, "options": {"title": "Options", "type": "object", "x-nullable": true}, "is_required": {"title": "Is required", "type": "boolean"}, "order": {"title": "Order", "type": "integer", "maximum": 4294967295, "minimum": 0}}}, "FormDetail": {"required": ["user", "title"], "type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "user": {"title": "User", "type": "integer"}, "user_username": {"title": "User username", "type": "string", "readOnly": true, "minLength": 1}, "title": {"title": "Title", "type": "string", "maxLength": 255, "minLength": 1}, "description": {"title": "Description", "type": "string", "x-nullable": true}, "type": {"title": "Type", "type": "string", "enum": ["survey", "quiz", "feedback", "registration"]}, "status": {"title": "Status", "type": "string", "enum": ["draft", "active", "paused", "archived"]}, "created_at": {"title": "Created at", "type": "string", "format": "date-time", "readOnly": true}, "updated_at": {"title": "Updated at", "type": "string", "format": "date-time", "readOnly": true}, "deleted_at": {"title": "Deleted at", "type": "string", "format": "date-time", "x-nullable": true}, "questions": {"type": "array", "items": {"$ref": "#/definitions/Question"}, "readOnly": true}}}, "Response": {"required": ["form", "session_id", "question", "answer"], "type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "form": {"title": "Form", "type": "integer"}, "form_title": {"title": "Form title", "type": "string", "readOnly": true, "minLength": 1}, "session_id": {"title": "Session id", "type": "string", "maxLength": 100, "minLength": 1}, "question": {"title": "Question", "type": "integer"}, "question_text": {"title": "Question text", "type": "string", "readOnly": true, "minLength": 1}, "answer": {"title": "Answer", "type": "object"}, "created_at": {"title": "Created at", "type": "string", "format": "date-time", "readOnly": true}}}, "User": {"required": ["username"], "type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "username": {"title": "Username", "description": "Required. 150 characters or fewer. Letters, digits and @/./+/-/_ only.", "type": "string", "pattern": "^[\\w.@+-]+$", "maxLength": 150, "minLength": 1}, "email": {"title": "Email address", "type": "string", "format": "email", "maxLength": 254}, "first_name": {"title": "First name", "type": "string", "maxLength": 150}, "last_name": {"title": "Last name", "type": "string", "maxLength": 150}, "date_joined": {"title": "Date joined", "type": "string", "format": "date-time"}}}, "UserProfile": {"type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "user": {"$ref": "#/definitions/User"}, "username": {"title": "Username", "type": "string", "readOnly": true, "minLength": 1}, "email": {"title": "Email", "type": "string", "readOnly": true, "minLength": 1}, "telegram_id": {"title": "Telegram id", "type": "integer", "maximum": 9223372036854775807, "minimum": -9223372036854775808, "x-nullable": true}, "created_at": {"title": "Created at", "type": "string", "format": "date-time", "readOnly": true}, "updated_at": {"title": "Updated at", "type": "string", "format": "date-time", "readOnly": true}, "deleted_at": {"title": "Deleted at", "type": "string", "format": "date-time", "x-nullable": true}}}}}